- if libraries.any?
  = form_for kase, url: case_library_path(kase),
                    builder: BlueprintFormBuilder do |f|
    = f.form_group :library_id do |f, error_classes|
      .bp3-control-group
        .bp3-select.bp3-fill{class: error_classes}
          = f.select :library_id, libraries.map { |l| [l.name, l.id]  },
                     include_blank: t('activerecord.models.shared_cases_library')
        = f.submit I18n.t('cases.settings.edit.change_library'),
                   class: %w[bp3-button bp3-intent-success]
  - if kase.active_case_library_request.present?
    = form_with url: case_library_request_path(kase.active_case_library_request),
                method: :delete, local: true do |f|
      %div.case-slug-preview.request
        = raw I18n.t('library_requests.new.pending',
                     name: kase.active_case_library_request.library.name)
        = f.button '',
                  aria: { label: I18n.t('library_requests.destroy.remove') },
                  class: %w[bp3-button bp3-small bp3-minimal bp3-intent-danger bp3-icon-cross bp3-unsaturated]

